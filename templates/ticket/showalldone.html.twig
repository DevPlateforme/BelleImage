{% extends 'base.html.twig' %}

{% block title %}Hello TicketController!{% endblock %}

{% block body %}
<style>




.totalBgContainer{


    width: 100%;

    height: 100%;

}

#leftMarginContainer{


   
    position:fixed;

    height: 100vh;

    width: 5vw;
    
    background: purple;
    
    overflow: hidden;

}


.bgContainer{

    position:absolute;

    
    width : 95%;

    height : 100vh;    

    display: flex;


    justify-content: flex-start;

    align-item: flex-start;

    flex-direction: column;

    margin-left: 5vw;

    
    

}


  .ticketContainer{

      height: 50px;
      width: 100%;

      display: flex;

      justify-content: space-between;

      flex-direction: row;


  
      border: none;
      
      border-bottom: 1.5px solid;



}





.messageContent{
    
    border: solid;

    border-radius: 0px 20px 20px 20px;

    height: 20%;

    width: 80%;

    float: right; 

    margin-right: 10px;   
}



#pendingMsgsLink{

    position: fixed;

    display: flex;

    justify-content: flex-start;

    align-items: center;

    margin-top: 2vh;

    margin-left: 1vw;

}

#doneMsgsLink{

    position: fixed;

    display: flex;

    justify-content: flex-start;

    align-items: center;

     margin-top: 8vh;

     margin-left: 1vw;




}


#leftMarginContainer:hover{


    width: 20%;

}


#leftMarginContainer:hover #undoneMessages { opacity: 1;}

#leftMarginContainer:hover #doneMessages { opacity: 1;}




#undoneMessages{

    opacity: 0;

    margin-left: 2vw;
}

#doneMessages{
    opacity: 0;
    margin-left: 2vw;
}




</style>




     <div id='leftMarginContainer'  >
     
        <a href='{{ path("showAllPendingTicketsPath") }}'><div id='pendingMsgsLink'><i class="fas fa-2x fa-envelope"></i><h5 id='undoneMessages'>Messages recus</h5></div> <br></a>

        <a href='{{ path("showAllDoneTicketsPath") }}'><div id='doneMsgsLink' ><i class="fas fa-2x fa-archive"></i><h5  id='doneMessages'>Messages trait√©s</h5></div></a>

     </div>



<div class='totalBgContainer'>


     
    <div class='bgContainer'>

    
    
    <h1Voici tous vos tickets en attente</h1>
 

    {% for ticket in tickets %}
    
    
       <div class = 'ticketContainer'style='overflow:hidden'>

         <div style='width:90%'>

                <a style='width:100%' id='messageLink' href='{{ path("showOneTicketsPath", {"ticketId": ticket.id} ) }}'>
                    <div style='display:flex; flex-direction: row; justify-content: space-around'>
                        <div style='width:20%;'> <p>{{ ticket.username}}</p> </div>
                        <div style='width:800px'> <p> {{ ticket.content }}</p> </div>
                    </div>
                </a>
           </div>
        
          <div style='width:10%' >
                  <a href= '{{ path("deleteTicketPath", {"ticketId" :  ticket.id, "ticketStatus" : ticket.status} )}}'><h3>X</h3 ></a> 
          </div>

         </div>

 
            {%endfor%}





 </div>

    
</div>






   {% endblock %}



{% block javascripts %}


<script>


var leftMarginContainer = document.getElementById('leftMarginContainer');

leftMarginContainer.addEventListener('mouseover', overOn();

);

function overOn(){
 leftMarginContainer.style.width = 20px;

}


</script>

{% endblock %}